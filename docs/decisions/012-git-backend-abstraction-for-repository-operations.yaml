number: 12
title: Git backend abstraction for repository operations
category: architecture
status: accepted
decision: >
  Define a Git backend interface for repository operations and keep the implementation pluggable
  so the project can support both programmatic Go-native backends and shell-based git backends.
agent_instructions: >
  Code against the Git backend interface from workflows.
  Keep backend-specific behavior isolated behind adapter packages.
  Add compatibility tests to ensure equivalent behavior across backends where supported.
rationale: >
  A pluggable backend avoids lock-in and lets the project balance native integration,
  feature completeness, and behavior parity with standard git.
rejected_alternatives:
  - alternative: Hard dependency on wrapping the git binary everywhere
    reason: Reduces portability and testability of git behavior.
  - alternative: Hard dependency on one Go-native implementation
    reason: Risks missing edge-case compatibility required by workflows.
provenance: guided-ai
