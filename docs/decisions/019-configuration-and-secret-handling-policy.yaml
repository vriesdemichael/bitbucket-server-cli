number: 19
title: Configuration and secret handling policy
category: development
status: accepted
decision: >
  Use typed configuration with strict validation and environment-backed secret inputs.
  Secrets must never be logged or returned in plain text and must be redacted in diagnostics.
agent_instructions: >
  Validate configuration at startup and fail fast with actionable, non-secret error messages.
  Keep secret values out of logs, panic output, and CLI JSON payloads.
  Prefer environment variables or secure stores over checked-in configuration files.
rationale: >
  Strong config validation and secret hygiene reduce operational incidents and data exposure risk.
  This policy aligns local-first development with production-grade safety expectations.
rejected_alternatives:
  - alternative: Best-effort validation and permissive startup
    reason: Delays failures and increases debugging complexity.
  - alternative: Allow plaintext secret echo for troubleshooting convenience
    reason: Unacceptable security risk.
provenance: guided-ai
