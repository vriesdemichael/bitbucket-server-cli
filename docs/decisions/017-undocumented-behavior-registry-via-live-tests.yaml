number: 17
title: Undocumented behavior registry via live tests
category: development
status: accepted
decision: >
  Treat undocumented or surprising Bitbucket behavior as first-class compatibility knowledge
  by encoding each finding as an explicit live test with a descriptive name and rationale.
agent_instructions: >
  When discovering quirks, add or update a targeted live test and include a concise explanation
  in test naming or adjacent documentation.
  Do not rely on memory or ad-hoc notes for behavior exceptions.
rationale: >
  Executable behavior knowledge prevents regressions and creates durable project memory.
  It is especially important for APIs with inconsistent documentation quality.
rejected_alternatives:
  - alternative: Track quirks only in prose docs
    reason: Not enforceable and prone to drift.
provenance: guided-ai
